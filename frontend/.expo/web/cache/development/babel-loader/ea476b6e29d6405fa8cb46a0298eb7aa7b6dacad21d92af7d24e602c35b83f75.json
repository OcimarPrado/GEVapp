{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function NewSaleScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    produtos = _useState2[0],\n    setProdutos = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    itensVenda = _useState4[0],\n    setItensVenda = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    clienteNome = _useState6[0],\n    setClienteNome = _useState6[1];\n  var _useState7 = useState('dinheiro'),\n    _useState8 = _slicedToArray(_useState7, 2),\n    formaPagamento = _useState8[0],\n    setFormaPagamento = _useState8[1];\n  var _useState9 = useState('1'),\n    _useState0 = _slicedToArray(_useState9, 2),\n    parcelas = _useState0[0],\n    setParcelas = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    observacoes = _useState10[0],\n    setObservacoes = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    loading = _useState12[0],\n    setLoading = _useState12[1];\n  var _useState13 = useState(true),\n    _useState14 = _slicedToArray(_useState13, 2),\n    loadingProdutos = _useState14[0],\n    setLoadingProdutos = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    modalProdutoVisible = _useState16[0],\n    setModalProdutoVisible = _useState16[1];\n  var _useState17 = useState(''),\n    _useState18 = _slicedToArray(_useState17, 2),\n    searchProduto = _useState18[0],\n    setSearchProduto = _useState18[1];\n  useEffect(function () {\n    carregarProdutos();\n  }, []);\n  var carregarProdutos = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch('http://localhost:3000/api/produtos');\n        var result = yield response.json();\n        if (result.success) {\n          setProdutos(result.data);\n        }\n      } catch (error) {\n        console.error('Erro ao carregar produtos:', error);\n      } finally {\n        setLoadingProdutos(false);\n      }\n    });\n    return function carregarProdutos() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var produtosFiltrados = produtos.filter(function (produto) {\n    return produto.nome.toLowerCase().includes(searchProduto.toLowerCase()) && produto.estoque_atual > 0;\n  });\n  var adicionarProduto = function adicionarProduto(produto) {\n    var itemExistente = itensVenda.find(function (item) {\n      return item.produto_id === produto.id;\n    });\n    if (itemExistente) {\n      if (itemExistente.quantidade < produto.estoque_atual) {\n        var novosItens = itensVenda.map(function (item) {\n          return item.produto_id === produto.id ? _objectSpread(_objectSpread({}, item), {}, {\n            quantidade: item.quantidade + 1,\n            subtotal: (item.quantidade + 1) * item.preco_unitario\n          }) : item;\n        });\n        setItensVenda(novosItens);\n      } else {\n        Alert.alert('Atenção', 'Quantidade maior que o estoque disponível!');\n      }\n    } else {\n      var novoItem = {\n        produto_id: produto.id,\n        produto_nome: produto.nome,\n        quantidade: 1,\n        preco_unitario: produto.preco_venda,\n        subtotal: produto.preco_venda\n      };\n      setItensVenda([].concat(_toConsumableArray(itensVenda), [novoItem]));\n    }\n    setModalProdutoVisible(false);\n    setSearchProduto('');\n  };\n  var alterarQuantidade = function alterarQuantidade(produtoId, novaQuantidade) {\n    var produto = produtos.find(function (p) {\n      return p.id === produtoId;\n    });\n    if (novaQuantidade <= 0) {\n      removerItem(produtoId);\n      return;\n    }\n    if (produto && novaQuantidade > produto.estoque_atual) {\n      Alert.alert('Atenção', 'Quantidade maior que o estoque disponível!');\n      return;\n    }\n    var novosItens = itensVenda.map(function (item) {\n      return item.produto_id === produtoId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantidade: novaQuantidade,\n        subtotal: novaQuantidade * item.preco_unitario\n      }) : item;\n    });\n    setItensVenda(novosItens);\n  };\n  var removerItem = function removerItem(produtoId) {\n    setItensVenda(itensVenda.filter(function (item) {\n      return item.produto_id !== produtoId;\n    }));\n  };\n  var calcularTotal = function calcularTotal() {\n    return itensVenda.reduce(function (total, item) {\n      return total + item.subtotal;\n    }, 0);\n  };\n  var formatCurrency = function formatCurrency(value) {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(value);\n  };\n  var finalizarVenda = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (itensVenda.length === 0) {\n        Alert.alert('Atenção', 'Adicione pelo menos um produto à venda!');\n        return;\n      }\n      setLoading(true);\n      try {\n        var vendaData = {\n          itens: itensVenda.map(function (item) {\n            return {\n              produto_id: item.produto_id,\n              quantidade: item.quantidade\n            };\n          }),\n          cliente_nome: clienteNome || 'Cliente Avulso',\n          forma_pagamento: formaPagamento,\n          parcelas: parseInt(parcelas),\n          observacoes: observacoes\n        };\n        var response = yield fetch('http://localhost:3000/api/vendas', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(vendaData)\n        });\n        var result = yield response.json();\n        if (result.success) {\n          Alert.alert('Sucesso!', \"Venda realizada com sucesso!\\nTotal: \" + formatCurrency(result.data.total) + \"\\nLucro: \" + formatCurrency(result.data.lucro), [{\n            text: 'OK',\n            onPress: function onPress() {\n              setItensVenda([]);\n              setClienteNome('');\n              setObservacoes('');\n              navigation.goBack();\n            }\n          }]);\n        } else {\n          throw new Error(result.error || 'Erro desconhecido');\n        }\n      } catch (error) {\n        console.error('Erro ao finalizar venda:', error);\n        Alert.alert('Erro', error.message || 'Não foi possível finalizar a venda');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function finalizarVenda() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var renderItemVenda = function renderItemVenda(_ref4) {\n    var item = _ref4.item;\n    return _jsxs(View, {\n      style: styles.itemVenda,\n      children: [_jsxs(View, {\n        style: styles.itemInfo,\n        children: [_jsx(Text, {\n          style: styles.itemNome,\n          children: item.produto_nome\n        }), _jsxs(Text, {\n          style: styles.itemPreco,\n          children: [formatCurrency(item.preco_unitario), \" cada\"]\n        })]\n      }), _jsxs(View, {\n        style: styles.quantidadeContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.quantidadeButton,\n          onPress: function onPress() {\n            return alterarQuantidade(item.produto_id, item.quantidade - 1);\n          },\n          children: _jsx(Text, {\n            style: styles.quantidadeButtonText,\n            children: \"-\"\n          })\n        }), _jsx(Text, {\n          style: styles.quantidadeText,\n          children: item.quantidade\n        }), _jsx(TouchableOpacity, {\n          style: styles.quantidadeButton,\n          onPress: function onPress() {\n            return alterarQuantidade(item.produto_id, item.quantidade + 1);\n          },\n          children: _jsx(Text, {\n            style: styles.quantidadeButtonText,\n            children: \"+\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.subtotalContainer,\n        children: [_jsx(Text, {\n          style: styles.subtotal,\n          children: formatCurrency(item.subtotal)\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return removerItem(item.produto_id);\n          },\n          children: _jsx(Text, {\n            style: styles.removerText,\n            children: \"\\uD83D\\uDDD1\\uFE0F\"\n          })\n        })]\n      })]\n    });\n  };\n  var renderProdutoModal = function renderProdutoModal(_ref5) {\n    var item = _ref5.item;\n    return _jsxs(TouchableOpacity, {\n      style: styles.produtoModalItem,\n      onPress: function onPress() {\n        return adicionarProduto(item);\n      },\n      children: [_jsx(Text, {\n        style: styles.produtoModalNome,\n        children: item.nome\n      }), _jsxs(Text, {\n        style: styles.produtoModalPreco,\n        children: [formatCurrency(item.preco_venda), \" - Estoque: \", item.estoque_atual]\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.backButton,\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        children: _jsx(Text, {\n          style: styles.backButtonText,\n          children: \"\\u2190 Voltar\"\n        })\n      }), _jsx(Text, {\n        style: styles.title,\n        children: \"Nova Venda\"\n      })]\n    }), _jsxs(ScrollView, {\n      style: styles.content,\n      children: [_jsxs(View, {\n        style: styles.section,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Cliente\"\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Nome do cliente (opcional)\",\n          value: clienteNome,\n          onChangeText: setClienteNome,\n          placeholderTextColor: \"#999\"\n        })]\n      }), _jsxs(View, {\n        style: styles.section,\n        children: [_jsxs(View, {\n          style: styles.sectionHeader,\n          children: [_jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"Produtos\"\n          }), _jsx(TouchableOpacity, {\n            style: styles.addButton,\n            onPress: function onPress() {\n              return setModalProdutoVisible(true);\n            },\n            children: _jsx(Text, {\n              style: styles.addButtonText,\n              children: \"+ Adicionar\"\n            })\n          })]\n        }), itensVenda.length === 0 ? _jsx(View, {\n          style: styles.emptyProducts,\n          children: _jsx(Text, {\n            style: styles.emptyProductsText,\n            children: \"Nenhum produto adicionado\"\n          })\n        }) : _jsx(FlatList, {\n          data: itensVenda,\n          keyExtractor: function keyExtractor(item) {\n            return item.produto_id.toString();\n          },\n          renderItem: renderItemVenda,\n          scrollEnabled: false\n        })]\n      }), _jsxs(View, {\n        style: styles.section,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Forma de Pagamento\"\n        }), _jsx(View, {\n          style: styles.paymentOptions,\n          children: ['dinheiro', 'cartao', 'pix'].map(function (forma) {\n            return _jsx(TouchableOpacity, {\n              style: [styles.paymentOption, formaPagamento === forma && styles.paymentOptionSelected],\n              onPress: function onPress() {\n                return setFormaPagamento(forma);\n              },\n              children: _jsx(Text, {\n                style: [styles.paymentOptionText, formaPagamento === forma && styles.paymentOptionTextSelected],\n                children: forma.charAt(0).toUpperCase() + forma.slice(1)\n              })\n            }, forma);\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.section,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Observa\\xE7\\xF5es\"\n        }), _jsx(TextInput, {\n          style: [styles.input, styles.textArea],\n          placeholder: \"Observa\\xE7\\xF5es adicionais...\",\n          value: observacoes,\n          onChangeText: setObservacoes,\n          multiline: true,\n          numberOfLines: 3,\n          textAlignVertical: \"top\",\n          placeholderTextColor: \"#999\"\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.footer,\n      children: [_jsxs(View, {\n        style: styles.totalContainer,\n        children: [_jsx(Text, {\n          style: styles.totalLabel,\n          children: \"Total:\"\n        }), _jsx(Text, {\n          style: styles.totalValue,\n          children: formatCurrency(calcularTotal())\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: [styles.finalizarButton, loading && styles.finalizarButtonDisabled],\n        onPress: finalizarVenda,\n        disabled: loading,\n        children: loading ? _jsx(ActivityIndicator, {\n          size: \"small\",\n          color: \"#fff\"\n        }) : _jsx(Text, {\n          style: styles.finalizarButtonText,\n          children: \"Finalizar Venda\"\n        })\n      })]\n    }), _jsx(Modal, {\n      visible: modalProdutoVisible,\n      animationType: \"slide\",\n      onRequestClose: function onRequestClose() {\n        return setModalProdutoVisible(false);\n      },\n      children: _jsxs(View, {\n        style: styles.modalContainer,\n        children: [_jsxs(View, {\n          style: styles.modalHeader,\n          children: [_jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Selecionar Produto\"\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return setModalProdutoVisible(false);\n            },\n            children: _jsx(Text, {\n              style: styles.modalCloseText,\n              children: \"\\u2715\"\n            })\n          })]\n        }), _jsx(TextInput, {\n          style: styles.modalSearch,\n          placeholder: \"Buscar produto...\",\n          value: searchProduto,\n          onChangeText: setSearchProduto,\n          placeholderTextColor: \"#999\"\n        }), loadingProdutos ? _jsx(View, {\n          style: styles.modalLoading,\n          children: _jsx(ActivityIndicator, {\n            size: \"large\",\n            color: \"#2196F3\"\n          })\n        }) : _jsx(FlatList, {\n          data: produtosFiltrados,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: renderProdutoModal,\n          style: styles.modalList\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  header: {\n    backgroundColor: '#2196F3',\n    paddingTop: 50,\n    paddingBottom: 20,\n    paddingHorizontal: 20,\n    alignItems: 'center',\n    position: 'relative'\n  },\n  backButton: {\n    position: 'absolute',\n    left: 20,\n    top: 55\n  },\n  backButtonText: {\n    color: 'white',\n    fontSize: 16\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white'\n  },\n  content: {\n    flex: 1,\n    padding: 20\n  },\n  section: {\n    marginBottom: 25\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 15\n  },\n  input: {\n    backgroundColor: 'white',\n    borderRadius: 8,\n    paddingHorizontal: 15,\n    paddingVertical: 12,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: '#ddd'\n  },\n  textArea: {\n    minHeight: 80,\n    paddingTop: 12\n  },\n  addButton: {\n    backgroundColor: '#FF9800',\n    paddingHorizontal: 15,\n    paddingVertical: 8,\n    borderRadius: 20\n  },\n  addButtonText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: '600'\n  },\n  emptyProducts: {\n    backgroundColor: 'white',\n    padding: 30,\n    borderRadius: 8,\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderStyle: 'dashed'\n  },\n  emptyProductsText: {\n    color: '#999',\n    fontSize: 16\n  },\n  itemVenda: {\n    backgroundColor: 'white',\n    padding: 15,\n    borderRadius: 8,\n    marginBottom: 10,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  itemInfo: {\n    flex: 1\n  },\n  itemNome: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 4\n  },\n  itemPreco: {\n    fontSize: 14,\n    color: '#666'\n  },\n  quantidadeContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginHorizontal: 15\n  },\n  quantidadeButton: {\n    backgroundColor: '#2196F3',\n    width: 30,\n    height: 30,\n    borderRadius: 15,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  quantidadeButtonText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  quantidadeText: {\n    marginHorizontal: 15,\n    fontSize: 16,\n    fontWeight: 'bold',\n    minWidth: 30,\n    textAlign: 'center'\n  },\n  subtotalContainer: {\n    alignItems: 'flex-end'\n  },\n  subtotal: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#2196F3',\n    marginBottom: 5\n  },\n  removerText: {\n    fontSize: 16\n  },\n  paymentOptions: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  paymentOption: {\n    flex: 1,\n    backgroundColor: 'white',\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginHorizontal: 5,\n    borderWidth: 2,\n    borderColor: '#ddd'\n  },\n  paymentOptionSelected: {\n    borderColor: '#2196F3',\n    backgroundColor: '#E3F2FD'\n  },\n  paymentOptionText: {\n    fontSize: 14,\n    color: '#666'\n  },\n  paymentOptionTextSelected: {\n    color: '#2196F3',\n    fontWeight: '600'\n  },\n  footer: {\n    backgroundColor: 'white',\n    padding: 20,\n    borderTopWidth: 1,\n    borderTopColor: '#ddd'\n  },\n  totalContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15\n  },\n  totalLabel: {\n    fontSize: 18,\n    color: '#333'\n  },\n  totalValue: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#2196F3'\n  },\n  finalizarButton: {\n    backgroundColor: '#4CAF50',\n    paddingVertical: 15,\n    borderRadius: 8,\n    alignItems: 'center'\n  },\n  finalizarButtonDisabled: {\n    backgroundColor: '#ccc'\n  },\n  finalizarButtonText: {\n    color: 'white',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  modalContainer: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  modalHeader: {\n    backgroundColor: '#2196F3',\n    paddingTop: 50,\n    paddingBottom: 20,\n    paddingHorizontal: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'white'\n  },\n  modalCloseText: {\n    fontSize: 24,\n    color: 'white'\n  },\n  modalSearch: {\n    backgroundColor: 'white',\n    margin: 20,\n    paddingHorizontal: 15,\n    paddingVertical: 12,\n    borderRadius: 8,\n    fontSize: 16\n  },\n  modalList: {\n    flex: 1,\n    paddingHorizontal: 20\n  },\n  modalLoading: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  produtoModalItem: {\n    backgroundColor: 'white',\n    padding: 15,\n    borderRadius: 8,\n    marginBottom: 10\n  },\n  produtoModalNome: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 5\n  },\n  produtoModalPreco: {\n    fontSize: 14,\n    color: '#666'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","TextInput","Alert","ActivityIndicator","FlatList","Modal","jsx","_jsx","jsxs","_jsxs","NewSaleScreen","_ref","navigation","_useState","_useState2","_slicedToArray","produtos","setProdutos","_useState3","_useState4","itensVenda","setItensVenda","_useState5","_useState6","clienteNome","setClienteNome","_useState7","_useState8","formaPagamento","setFormaPagamento","_useState9","_useState0","parcelas","setParcelas","_useState1","_useState10","observacoes","setObservacoes","_useState11","_useState12","loading","setLoading","_useState13","_useState14","loadingProdutos","setLoadingProdutos","_useState15","_useState16","modalProdutoVisible","setModalProdutoVisible","_useState17","_useState18","searchProduto","setSearchProduto","carregarProdutos","_ref2","_asyncToGenerator","response","fetch","result","json","success","data","error","console","apply","arguments","produtosFiltrados","filter","produto","nome","toLowerCase","includes","estoque_atual","adicionarProduto","itemExistente","find","item","produto_id","id","quantidade","novosItens","map","_objectSpread","subtotal","preco_unitario","alert","novoItem","produto_nome","preco_venda","concat","_toConsumableArray","alterarQuantidade","produtoId","novaQuantidade","p","removerItem","calcularTotal","reduce","total","formatCurrency","value","Intl","NumberFormat","style","currency","format","finalizarVenda","_ref3","length","vendaData","itens","cliente_nome","forma_pagamento","parseInt","method","headers","body","JSON","stringify","lucro","text","onPress","goBack","Error","message","renderItemVenda","_ref4","styles","itemVenda","children","itemInfo","itemNome","itemPreco","quantidadeContainer","quantidadeButton","quantidadeButtonText","quantidadeText","subtotalContainer","removerText","renderProdutoModal","_ref5","produtoModalItem","produtoModalNome","produtoModalPreco","container","header","backButton","backButtonText","title","content","section","sectionTitle","input","placeholder","onChangeText","placeholderTextColor","sectionHeader","addButton","addButtonText","emptyProducts","emptyProductsText","keyExtractor","toString","renderItem","scrollEnabled","paymentOptions","forma","paymentOption","paymentOptionSelected","paymentOptionText","paymentOptionTextSelected","charAt","toUpperCase","slice","textArea","multiline","numberOfLines","textAlignVertical","footer","totalContainer","totalLabel","totalValue","finalizarButton","finalizarButtonDisabled","disabled","size","color","finalizarButtonText","visible","animationType","onRequestClose","modalContainer","modalHeader","modalTitle","modalCloseText","modalSearch","modalLoading","modalList","create","flex","backgroundColor","paddingTop","paddingBottom","paddingHorizontal","alignItems","position","left","top","fontSize","fontWeight","padding","marginBottom","flexDirection","justifyContent","borderRadius","paddingVertical","borderWidth","borderColor","minHeight","borderStyle","marginHorizontal","width","height","minWidth","textAlign","borderTopWidth","borderTopColor","margin"],"sources":["C:/Users/User/GEVapp/frontend/app/screens/NewSaleScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  Alert,\r\n  ActivityIndicator,\r\n  FlatList,\r\n  Modal,\r\n} from 'react-native';\r\n\r\ninterface Produto {\r\n  id: number;\r\n  nome: string;\r\n  preco_venda: number;\r\n  estoque_atual: number;\r\n}\r\n\r\ninterface ItemVenda {\r\n  produto_id: number;\r\n  produto_nome: string;\r\n  quantidade: number;\r\n  preco_unitario: number;\r\n  subtotal: number;\r\n}\r\n\r\nexport default function NewSaleScreen({ navigation }: any) {\r\n  const [produtos, setProdutos] = useState<Produto[]>([]);\r\n  const [itensVenda, setItensVenda] = useState<ItemVenda[]>([]);\r\n  const [clienteNome, setClienteNome] = useState('');\r\n  const [formaPagamento, setFormaPagamento] = useState('dinheiro');\r\n  const [parcelas, setParcelas] = useState('1');\r\n  const [observacoes, setObservacoes] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingProdutos, setLoadingProdutos] = useState(true);\r\n  const [modalProdutoVisible, setModalProdutoVisible] = useState(false);\r\n  const [searchProduto, setSearchProduto] = useState('');\r\n\r\n  useEffect(() => {\r\n    carregarProdutos();\r\n  }, []);\r\n\r\n  const carregarProdutos = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:3000/api/produtos');\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setProdutos(result.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar produtos:', error);\r\n    } finally {\r\n      setLoadingProdutos(false);\r\n    }\r\n  };\r\n\r\n  const produtosFiltrados = produtos.filter(produto =>\r\n    produto.nome.toLowerCase().includes(searchProduto.toLowerCase()) &&\r\n    produto.estoque_atual > 0\r\n  );\r\n\r\n  const adicionarProduto = (produto: Produto) => {\r\n    const itemExistente = itensVenda.find(item => item.produto_id === produto.id);\r\n    \r\n    if (itemExistente) {\r\n      if (itemExistente.quantidade < produto.estoque_atual) {\r\n        const novosItens = itensVenda.map(item =>\r\n          item.produto_id === produto.id\r\n            ? {\r\n                ...item,\r\n                quantidade: item.quantidade + 1,\r\n                subtotal: (item.quantidade + 1) * item.preco_unitario\r\n              }\r\n            : item\r\n        );\r\n        setItensVenda(novosItens);\r\n      } else {\r\n        Alert.alert('Atenção', 'Quantidade maior que o estoque disponível!');\r\n      }\r\n    } else {\r\n      const novoItem: ItemVenda = {\r\n        produto_id: produto.id,\r\n        produto_nome: produto.nome,\r\n        quantidade: 1,\r\n        preco_unitario: produto.preco_venda,\r\n        subtotal: produto.preco_venda\r\n      };\r\n      setItensVenda([...itensVenda, novoItem]);\r\n    }\r\n    \r\n    setModalProdutoVisible(false);\r\n    setSearchProduto('');\r\n  };\r\n\r\n  const alterarQuantidade = (produtoId: number, novaQuantidade: number) => {\r\n    const produto = produtos.find(p => p.id === produtoId);\r\n    \r\n    if (novaQuantidade <= 0) {\r\n      removerItem(produtoId);\r\n      return;\r\n    }\r\n    \r\n    if (produto && novaQuantidade > produto.estoque_atual) {\r\n      Alert.alert('Atenção', 'Quantidade maior que o estoque disponível!');\r\n      return;\r\n    }\r\n\r\n    const novosItens = itensVenda.map(item =>\r\n      item.produto_id === produtoId\r\n        ? {\r\n            ...item,\r\n            quantidade: novaQuantidade,\r\n            subtotal: novaQuantidade * item.preco_unitario\r\n          }\r\n        : item\r\n    );\r\n    setItensVenda(novosItens);\r\n  };\r\n\r\n  const removerItem = (produtoId: number) => {\r\n    setItensVenda(itensVenda.filter(item => item.produto_id !== produtoId));\r\n  };\r\n\r\n  const calcularTotal = () => {\r\n    return itensVenda.reduce((total, item) => total + item.subtotal, 0);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL',\r\n    }).format(value);\r\n  };\r\n\r\n  const finalizarVenda = async () => {\r\n    if (itensVenda.length === 0) {\r\n      Alert.alert('Atenção', 'Adicione pelo menos um produto à venda!');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const vendaData = {\r\n        itens: itensVenda.map(item => ({\r\n          produto_id: item.produto_id,\r\n          quantidade: item.quantidade\r\n        })),\r\n        cliente_nome: clienteNome || 'Cliente Avulso',\r\n        forma_pagamento: formaPagamento,\r\n        parcelas: parseInt(parcelas),\r\n        observacoes: observacoes\r\n      };\r\n\r\n      const response = await fetch('http://localhost:3000/api/vendas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(vendaData)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        Alert.alert(\r\n          'Sucesso!',\r\n          `Venda realizada com sucesso!\\nTotal: ${formatCurrency(result.data.total)}\\nLucro: ${formatCurrency(result.data.lucro)}`,\r\n          [\r\n            {\r\n              text: 'OK',\r\n              onPress: () => {\r\n                // Limpar formulário\r\n                setItensVenda([]);\r\n                setClienteNome('');\r\n                setObservacoes('');\r\n                navigation.goBack();\r\n              }\r\n            }\r\n          ]\r\n        );\r\n      } else {\r\n        throw new Error(result.error || 'Erro desconhecido');\r\n      }\r\n\r\n    } catch (error: any) {\r\n      console.error('Erro ao finalizar venda:', error);\r\n      Alert.alert('Erro', error.message || 'Não foi possível finalizar a venda');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderItemVenda = ({ item }: { item: ItemVenda }) => (\r\n    <View style={styles.itemVenda}>\r\n      <View style={styles.itemInfo}>\r\n        <Text style={styles.itemNome}>{item.produto_nome}</Text>\r\n        <Text style={styles.itemPreco}>\r\n          {formatCurrency(item.preco_unitario)} cada\r\n        </Text>\r\n      </View>\r\n      \r\n      <View style={styles.quantidadeContainer}>\r\n        <TouchableOpacity \r\n          style={styles.quantidadeButton}\r\n          onPress={() => alterarQuantidade(item.produto_id, item.quantidade - 1)}\r\n        >\r\n          <Text style={styles.quantidadeButtonText}>-</Text>\r\n        </TouchableOpacity>\r\n        \r\n        <Text style={styles.quantidadeText}>{item.quantidade}</Text>\r\n        \r\n        <TouchableOpacity \r\n          style={styles.quantidadeButton}\r\n          onPress={() => alterarQuantidade(item.produto_id, item.quantidade + 1)}\r\n        >\r\n          <Text style={styles.quantidadeButtonText}>+</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      \r\n      <View style={styles.subtotalContainer}>\r\n        <Text style={styles.subtotal}>\r\n          {formatCurrency(item.subtotal)}\r\n        </Text>\r\n        <TouchableOpacity onPress={() => removerItem(item.produto_id)}>\r\n          <Text style={styles.removerText}>🗑️</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  const renderProdutoModal = ({ item }: { item: Produto }) => (\r\n    <TouchableOpacity\r\n      style={styles.produtoModalItem}\r\n      onPress={() => adicionarProduto(item)}\r\n    >\r\n      <Text style={styles.produtoModalNome}>{item.nome}</Text>\r\n      <Text style={styles.produtoModalPreco}>\r\n        {formatCurrency(item.preco_venda)} - Estoque: {item.estoque_atual}\r\n      </Text>\r\n    </TouchableOpacity>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Header */}\r\n      <View style={styles.header}>\r\n        <TouchableOpacity \r\n          style={styles.backButton}\r\n          onPress={() => navigation.goBack()}\r\n        >\r\n          <Text style={styles.backButtonText}>← Voltar</Text>\r\n        </TouchableOpacity>\r\n        <Text style={styles.title}>Nova Venda</Text>\r\n      </View>\r\n\r\n      <ScrollView style={styles.content}>\r\n        {/* Cliente */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>Cliente</Text>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder=\"Nome do cliente (opcional)\"\r\n            value={clienteNome}\r\n            onChangeText={setClienteNome}\r\n            placeholderTextColor=\"#999\"\r\n          />\r\n        </View>\r\n\r\n        {/* Produtos */}\r\n        <View style={styles.section}>\r\n          <View style={styles.sectionHeader}>\r\n            <Text style={styles.sectionTitle}>Produtos</Text>\r\n            <TouchableOpacity\r\n              style={styles.addButton}\r\n              onPress={() => setModalProdutoVisible(true)}\r\n            >\r\n              <Text style={styles.addButtonText}>+ Adicionar</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          {itensVenda.length === 0 ? (\r\n            <View style={styles.emptyProducts}>\r\n              <Text style={styles.emptyProductsText}>\r\n                Nenhum produto adicionado\r\n              </Text>\r\n            </View>\r\n          ) : (\r\n            <FlatList\r\n              data={itensVenda}\r\n              keyExtractor={item => item.produto_id.toString()}\r\n              renderItem={renderItemVenda}\r\n              scrollEnabled={false}\r\n            />\r\n          )}\r\n        </View>\r\n\r\n        {/* Pagamento */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>Forma de Pagamento</Text>\r\n          <View style={styles.paymentOptions}>\r\n            {['dinheiro', 'cartao', 'pix'].map((forma) => (\r\n              <TouchableOpacity\r\n                key={forma}\r\n                style={[\r\n                  styles.paymentOption,\r\n                  formaPagamento === forma && styles.paymentOptionSelected\r\n                ]}\r\n                onPress={() => setFormaPagamento(forma)}\r\n              >\r\n                <Text style={[\r\n                  styles.paymentOptionText,\r\n                  formaPagamento === forma && styles.paymentOptionTextSelected\r\n                ]}>\r\n                  {forma.charAt(0).toUpperCase() + forma.slice(1)}\r\n                </Text>\r\n              </TouchableOpacity>\r\n            ))}\r\n          </View>\r\n        </View>\r\n\r\n        {/* Observações */}\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>Observações</Text>\r\n          <TextInput\r\n            style={[styles.input, styles.textArea]}\r\n            placeholder=\"Observações adicionais...\"\r\n            value={observacoes}\r\n            onChangeText={setObservacoes}\r\n            multiline\r\n            numberOfLines={3}\r\n            textAlignVertical=\"top\"\r\n            placeholderTextColor=\"#999\"\r\n          />\r\n        </View>\r\n      </ScrollView>\r\n\r\n      {/* Total e Finalizar */}\r\n      <View style={styles.footer}>\r\n        <View style={styles.totalContainer}>\r\n          <Text style={styles.totalLabel}>Total:</Text>\r\n          <Text style={styles.totalValue}>\r\n            {formatCurrency(calcularTotal())}\r\n          </Text>\r\n        </View>\r\n        \r\n        <TouchableOpacity\r\n          style={[styles.finalizarButton, loading && styles.finalizarButtonDisabled]}\r\n          onPress={finalizarVenda}\r\n          disabled={loading}\r\n        >\r\n          {loading ? (\r\n            <ActivityIndicator size=\"small\" color=\"#fff\" />\r\n          ) : (\r\n            <Text style={styles.finalizarButtonText}>Finalizar Venda</Text>\r\n          )}\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Modal de Produtos */}\r\n      <Modal\r\n        visible={modalProdutoVisible}\r\n        animationType=\"slide\"\r\n        onRequestClose={() => setModalProdutoVisible(false)}\r\n      >\r\n        <View style={styles.modalContainer}>\r\n          <View style={styles.modalHeader}>\r\n            <Text style={styles.modalTitle}>Selecionar Produto</Text>\r\n            <TouchableOpacity \r\n              onPress={() => setModalProdutoVisible(false)}\r\n            >\r\n              <Text style={styles.modalCloseText}>✕</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          \r\n          <TextInput\r\n            style={styles.modalSearch}\r\n            placeholder=\"Buscar produto...\"\r\n            value={searchProduto}\r\n            onChangeText={setSearchProduto}\r\n            placeholderTextColor=\"#999\"\r\n          />\r\n\r\n          {loadingProdutos ? (\r\n            <View style={styles.modalLoading}>\r\n              <ActivityIndicator size=\"large\" color=\"#2196F3\" />\r\n            </View>\r\n          ) : (\r\n            <FlatList\r\n              data={produtosFiltrados}\r\n              keyExtractor={item => item.id.toString()}\r\n              renderItem={renderProdutoModal}\r\n              style={styles.modalList}\r\n            />\r\n          )}\r\n        </View>\r\n      </Modal>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  header: {\r\n    backgroundColor: '#2196F3',\r\n    paddingTop: 50,\r\n    paddingBottom: 20,\r\n    paddingHorizontal: 20,\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 20,\r\n    top: 55,\r\n  },\r\n  backButtonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 20,\r\n  },\r\n  section: {\r\n    marginBottom: 25,\r\n  },\r\n  sectionHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n    color: '#333',\r\n    marginBottom: 15,\r\n  },\r\n  input: {\r\n    backgroundColor: 'white',\r\n    borderRadius: 8,\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n    fontSize: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n  },\r\n  textArea: {\r\n    minHeight: 80,\r\n    paddingTop: 12,\r\n  },\r\n  addButton: {\r\n    backgroundColor: '#FF9800',\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 8,\r\n    borderRadius: 20,\r\n  },\r\n  addButtonText: {\r\n    color: 'white',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  emptyProducts: {\r\n    backgroundColor: 'white',\r\n    padding: 30,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderStyle: 'dashed',\r\n  },\r\n  emptyProductsText: {\r\n    color: '#999',\r\n    fontSize: 16,\r\n  },\r\n  itemVenda: {\r\n    backgroundColor: 'white',\r\n    padding: 15,\r\n    borderRadius: 8,\r\n    marginBottom: 10,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  itemInfo: {\r\n    flex: 1,\r\n  },\r\n  itemNome: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    color: '#333',\r\n    marginBottom: 4,\r\n  },\r\n  itemPreco: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n  },\r\n  quantidadeContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginHorizontal: 15,\r\n  },\r\n  quantidadeButton: {\r\n    backgroundColor: '#2196F3',\r\n    width: 30,\r\n    height: 30,\r\n    borderRadius: 15,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  quantidadeButtonText: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  quantidadeText: {\r\n    marginHorizontal: 15,\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    minWidth: 30,\r\n    textAlign: 'center',\r\n  },\r\n  subtotalContainer: {\r\n    alignItems: 'flex-end',\r\n  },\r\n  subtotal: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#2196F3',\r\n    marginBottom: 5,\r\n  },\r\n  removerText: {\r\n    fontSize: 16,\r\n  },\r\n  paymentOptions: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  paymentOption: {\r\n    flex: 1,\r\n    backgroundColor: 'white',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n    borderWidth: 2,\r\n    borderColor: '#ddd',\r\n  },\r\n  paymentOptionSelected: {\r\n    borderColor: '#2196F3',\r\n    backgroundColor: '#E3F2FD',\r\n  },\r\n  paymentOptionText: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n  },\r\n  paymentOptionTextSelected: {\r\n    color: '#2196F3',\r\n    fontWeight: '600',\r\n  },\r\n  footer: {\r\n    backgroundColor: 'white',\r\n    padding: 20,\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#ddd',\r\n  },\r\n  totalContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  totalLabel: {\r\n    fontSize: 18,\r\n    color: '#333',\r\n  },\r\n  totalValue: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#2196F3',\r\n  },\r\n  finalizarButton: {\r\n    backgroundColor: '#4CAF50',\r\n    paddingVertical: 15,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n  },\r\n  finalizarButtonDisabled: {\r\n    backgroundColor: '#ccc',\r\n  },\r\n  finalizarButtonText: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n  },\r\n  modalContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  modalHeader: {\r\n    backgroundColor: '#2196F3',\r\n    paddingTop: 50,\r\n    paddingBottom: 20,\r\n    paddingHorizontal: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  modalTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  modalCloseText: {\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  modalSearch: {\r\n    backgroundColor: 'white',\r\n    margin: 20,\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    fontSize: 16,\r\n  },\r\n  modalList: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n  },\r\n  modalLoading: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  produtoModalItem: {\r\n    backgroundColor: 'white',\r\n    padding: 15,\r\n    borderRadius: 8,\r\n    marginBottom: 10,\r\n  },\r\n  produtoModalNome: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    color: '#333',\r\n    marginBottom: 5,\r\n  },\r\n  produtoModalPreco: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n  },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}