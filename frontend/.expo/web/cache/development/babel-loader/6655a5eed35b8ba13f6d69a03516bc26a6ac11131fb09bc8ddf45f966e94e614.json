{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getVendas, getProdutos } from \"../api\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ReportsScreen() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    resumo = _useState4[0],\n    setResumo = _useState4[1];\n  useEffect(function () {\n    Promise.all([getVendas(), getProdutos()]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        vendasRes = _ref2[0],\n        produtosRes = _ref2[1];\n      var vendas = vendasRes.data.data;\n      var produtos = produtosRes.data.data;\n      var totalVendas = vendas.reduce(function (acc, v) {\n        return acc + v.total;\n      }, 0);\n      var totalProdutos = produtos.length;\n      setResumo({\n        totalVendas: totalVendas,\n        totalProdutos: totalProdutos\n      });\n    }).catch(function () {\n      return Alert.alert(\"Erro\", \"NÃ£o foi possÃ­vel gerar os relatÃ³rios\");\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, []);\n  if (loading) return _jsx(ActivityIndicator, {\n    size: \"large\",\n    style: {\n      flex: 1\n    }\n  });\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(Text, {\n      style: styles.card,\n      children: [\"\\uD83D\\uDCB0 Total em Vendas: R$ \", resumo == null ? void 0 : resumo.totalVendas]\n    }), _jsxs(Text, {\n      style: styles.card,\n      children: [\"\\uD83D\\uDCE6 Produtos cadastrados: \", resumo == null ? void 0 : resumo.totalProdutos]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    justifyContent: \"center\"\n  },\n  card: {\n    fontSize: 18,\n    marginBottom: 15,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["useEffect","useState","View","Text","ActivityIndicator","Alert","StyleSheet","getVendas","getProdutos","jsx","_jsx","jsxs","_jsxs","ReportsScreen","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","resumo","setResumo","Promise","all","then","_ref","_ref2","vendasRes","produtosRes","vendas","data","produtos","totalVendas","reduce","acc","v","total","totalProdutos","length","catch","alert","finally","size","style","flex","styles","container","children","card","create","padding","justifyContent","fontSize","marginBottom","fontWeight"],"sources":["C:/Users/User/GEVapp/frontend/app/screens/ReportsScreen.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { View, Text, ActivityIndicator, Alert, StyleSheet } from \"react-native\";\r\nimport { getVendas, getProdutos } from \"../api\";\r\n\r\nexport default function ReportsScreen() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [resumo, setResumo] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    Promise.all([getVendas(), getProdutos()])\r\n      .then(([vendasRes, produtosRes]) => {\r\n        const vendas = vendasRes.data.data;\r\n        const produtos = produtosRes.data.data;\r\n\r\n        const totalVendas = vendas.reduce((acc: number, v: any) => acc + v.total, 0);\r\n        const totalProdutos = produtos.length;\r\n\r\n        setResumo({ totalVendas, totalProdutos });\r\n      })\r\n      .catch(() => Alert.alert(\"Erro\", \"NÃ£o foi possÃ­vel gerar os relatÃ³rios\"))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  if (loading) return <ActivityIndicator size=\"large\" style={{ flex: 1 }} />;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.card}>ðŸ’° Total em Vendas: R$ {resumo?.totalVendas}</Text>\r\n      <Text style={styles.card}>ðŸ“¦ Produtos cadastrados: {resumo?.totalProdutos}</Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, padding: 20, justifyContent: \"center\" },\r\n  card: { fontSize: 18, marginBottom: 15, fontWeight: \"bold\" },\r\n});\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,iBAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAE5C,SAASC,SAAS,EAAEC,WAAW;AAAiB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEhD,eAAe,SAASC,aAAaA,CAAA,EAAG;EACtC,IAAAC,SAAA,GAA8Bb,QAAQ,CAAC,IAAI,CAAC;IAAAc,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAA4BlB,QAAQ,CAAM,IAAI,CAAC;IAAAmB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAxCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EAExBpB,SAAS,CAAC,YAAM;IACduB,OAAO,CAACC,GAAG,CAAC,CAACjB,SAAS,CAAC,CAAC,EAAEC,WAAW,CAAC,CAAC,CAAC,CAAC,CACtCiB,IAAI,CAAC,UAAAC,IAAA,EAA8B;MAAA,IAAAC,KAAA,GAAAX,cAAA,CAAAU,IAAA;QAA5BE,SAAS,GAAAD,KAAA;QAAEE,WAAW,GAAAF,KAAA;MAC5B,IAAMG,MAAM,GAAGF,SAAS,CAACG,IAAI,CAACA,IAAI;MAClC,IAAMC,QAAQ,GAAGH,WAAW,CAACE,IAAI,CAACA,IAAI;MAEtC,IAAME,WAAW,GAAGH,MAAM,CAACI,MAAM,CAAC,UAACC,GAAW,EAAEC,CAAM;QAAA,OAAKD,GAAG,GAAGC,CAAC,CAACC,KAAK;MAAA,GAAE,CAAC,CAAC;MAC5E,IAAMC,aAAa,GAAGN,QAAQ,CAACO,MAAM;MAErCjB,SAAS,CAAC;QAAEW,WAAW,EAAXA,WAAW;QAAEK,aAAa,EAAbA;MAAc,CAAC,CAAC;IAC3C,CAAC,CAAC,CACDE,KAAK,CAAC;MAAA,OAAMnC,KAAK,CAACoC,KAAK,CAAC,MAAM,EAAE,sCAAsC,CAAC;IAAA,EAAC,CACxEC,OAAO,CAAC;MAAA,OAAMxB,UAAU,CAAC,KAAK,CAAC;IAAA,EAAC;EACrC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE,OAAOP,IAAA,CAACN,iBAAiB;IAACuC,IAAI,EAAC,OAAO;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAE;EAAE,CAAE,CAAC;EAE1E,OACEjC,KAAA,CAACV,IAAI;IAAC0C,KAAK,EAAEE,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BpC,KAAA,CAACT,IAAI;MAACyC,KAAK,EAAEE,MAAM,CAACG,IAAK;MAAAD,QAAA,GAAC,mCAAuB,EAAC3B,MAAM,oBAANA,MAAM,CAAEY,WAAW;IAAA,CAAO,CAAC,EAC7ErB,KAAA,CAACT,IAAI;MAACyC,KAAK,EAAEE,MAAM,CAACG,IAAK;MAAAD,QAAA,GAAC,qCAAyB,EAAC3B,MAAM,oBAANA,MAAM,CAAEiB,aAAa;IAAA,CAAO,CAAC;EAAA,CAC7E,CAAC;AAEX;AAEA,IAAMQ,MAAM,GAAGxC,UAAU,CAAC4C,MAAM,CAAC;EAC/BH,SAAS,EAAE;IAAEF,IAAI,EAAE,CAAC;IAAEM,OAAO,EAAE,EAAE;IAAEC,cAAc,EAAE;EAAS,CAAC;EAC7DH,IAAI,EAAE;IAAEI,QAAQ,EAAE,EAAE;IAAEC,YAAY,EAAE,EAAE;IAAEC,UAAU,EAAE;EAAO;AAC7D,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}